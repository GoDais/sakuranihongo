<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <title>åŠ©è©ã‚¯ã‚¤ã‚ºãƒãƒˆãƒ«</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    @keyframes shake {
      0% { transform: translate(0, 0); }
      20% { transform: translate(-5px, 0); }
      40% { transform: translate(5px, 0); }
      60% { transform: translate(-5px, 0); }
      80% { transform: translate(5px, 0); }
      100% { transform: translate(0, 0); }
    }

    .shake {
      animation: shake 0.4s ease-in-out;
    }

    @keyframes popText {
      0% {
        opacity: 0;
        transform: translateY(20px);
      }
      30% {
        opacity: 1;
        transform: translateY(0);
      }
      100% {
        opacity: 0;
        transform: translateY(-10px);
      }
    }

    #animatedMessage {
      position: relative;
      display: inline-block;
      font-size: 1.25rem;
      font-weight: bold;
      animation: popText 1s ease-out;
      pointer-events: none;
    }
  </style>
</head>
<body class="flex flex-col min-h-screen font-sans bg-gray-50">


    <!-- ãƒ˜ãƒƒãƒ€ãƒ¼ -->
    <div id="header"></div>

  <div class="max-w-xl mx-auto bg-white p-6 rounded shadow text-center">
    <h1 class="text-2xl font-bold mb-4">Beat the monsterï¼</h1>

    <!-- æ•µã‚­ãƒ£ãƒ©ã¨HP -->
    <div class="mb-4">
      <img id="enemyImg" src="/img/slime_normal.png" alt="ã‚¹ãƒ©ã‚¤ãƒ " class="w-40 h-40 mx-auto mb-2 transition-all duration-300">
      <p class="text-lg font-semibold">Enemy's Hit Point: <span id="enemyHp">100</span></p>
      <div class="w-full bg-gray-200 h-4 rounded">
        <div id="enemyHpBar" class="bg-red-500 h-4 rounded" style="width: 100%;"></div>
      </div>
    </div>

    <!-- ã‚¯ã‚¤ã‚ºå•é¡Œ -->
    <div class="mb-6">
      <p id="question" class="text-2xl font-bold mb-2">ï¼ˆèª­ã¿è¾¼ã¿ä¸­...ï¼‰</p>
      <div id="choices" class="space-y-2"></div>
    </div>

    <!-- ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ -->
    <p id="message" class="h-8 mt-4"></p>
  </div>

  <!-- ãƒ•ãƒƒã‚¿ãƒ¼ -->
<footer class="bg-gray-200 text-center text-sm p-4 text-gray-600">
  <nav class="mb-2">
    <a href="/privacy.html" class="mx-2 hover:underline">
      ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ãƒãƒªã‚·ãƒ¼ / Privacy Policy
    </a>
    |
    <a href="/about.html" class="mx-2 hover:underline">
      é‹å–¶è€…æƒ…å ± / About
    </a>
    |
    <a href="/contact.html" class="mx-2 hover:underline">
      ãŠå•ã„åˆã‚ã› / Contact
    </a>
  </nav>
  Â© 2025 Sakura Nihongo. All rights reserved.<br>
  æœ¬ã‚¢ãƒ—ãƒªã®æ—¥æœ¬èªå˜èªãƒªã‚¹ãƒˆã¯ã‚ªãƒ¼ãƒ—ãƒ³ãƒ‡ãƒ¼ã‚¿ï¼ˆMIT/CC0/Public Domainï¼‰ã‚„è‡ªä½œãƒ‡ãƒ¼ã‚¿ã‚’ã‚‚ã¨ã«ã—ã¦ã„ã¾ã™ã€‚<br>
  Japanese vocabulary lists in this app are based on open data (MIT/CC0/Public Domain) and original data.
</footer>

  <script>
        const questions = [
        // ã€Œã¯ãƒ»ãŒãƒ»ã‚’ã€
        { text: "ç§ã¯æ¯æ—¥æ—¥æœ¬èª___å‹‰å¼·ã—ã¦ã„ã¾ã™ã€‚", choices: ["ã‚’", "ãŒ", "ã¯"], answer: "ã‚’" },
        { text: "å½¼___ã‚µãƒƒã‚«ãƒ¼ã®è©¦åˆã§ã‚´ãƒ¼ãƒ«ã‚’æ±ºã‚ã¾ã—ãŸã€‚", choices: ["ãŒ", "ã¯", "ã‚’"], answer: "ã¯" },
        { text: "ç”°ä¸­ã•ã‚“___ä»Šæœã€å­¦æ ¡ã«æ¥ã¾ã—ãŸã€‚", choices: ["ã¯", "ãŒ", "ã‚’"], answer: "ãŒ" },
        { text: "ã“ã®æœ¬___æ˜¨æ—¥å›³æ›¸é¤¨ã§å€Ÿã‚Šã¾ã—ãŸã€‚", choices: ["ãŒ", "ã‚’", "ã¯"], answer: "ã‚’" },
        { text: "å±±ç”°ã•ã‚“___æœ‰åãªåŒ»è€…ã§ã™ã€‚", choices: ["ãŒ", "ã¯", "ã‚’"], answer: "ã¯" },
        { text: "çŒ«___ã‚½ãƒ•ã‚¡ã®ä¸Šã§ãã£ã™ã‚Šå¯ã¦ã„ã¾ã™ã€‚", choices: ["ãŒ", "ã‚’", "ã¯"], answer: "ãŒ" },
        { text: "ç§ã¯ãŠå¯¿å¸___ãŸãã•ã‚“é£Ÿã¹ã¾ã—ãŸã€‚", choices: ["ã‚’", "ãŒ", "ã¯"], answer: "ã‚’" },
        { text: "å¦¹___æ¥å¹´é«˜æ ¡ã«å…¥å­¦ã—ã¾ã™ã€‚", choices: ["ãŒ", "ã‚’", "ã¯"], answer: "ã¯" },
        { text: "æ˜¨æ—¥ã€å‹é”ã¨ä¸€ç·’ã«æ˜ ç”»___è¦‹ã¾ã—ãŸã€‚", choices: ["ãŒ", "ã‚’", "ã¯"], answer: "ã‚’" },
        { text: "ã“ã®äºº___æœ‰åãªä¿³å„ªã§ã™ã€‚", choices: ["ãŒ", "ã‚’", "ã¯"], answer: "ã¯" },
        { text: "å¼Ÿ___æ¯æœ6æ™‚ã«èµ·ãã¦ã‚¸ãƒ§ã‚®ãƒ³ã‚°ã—ã¾ã™ã€‚", choices: ["ãŒ", "ã‚’", "ã¯"], answer: "ãŒ" },
        { text: "ç§ã¯ã‚¯ãƒ©ã‚·ãƒƒã‚¯éŸ³æ¥½___ã‚ˆãèãã¾ã™ã€‚", choices: ["ã‚’", "ãŒ", "ã¯"], answer: "ã‚’" },
        { text: "ãŠæ¯ã•ã‚“___ã‚¹ãƒ¼ãƒ‘ãƒ¼ã«è²·ã„ç‰©ã«è¡Œãã¾ã—ãŸã€‚", choices: ["ã¯", "ã‚’", "ãŒ"], answer: "ã¯" },
        { text: "å­¦ç”Ÿ___ã“ã®å°èª¬ã‚’å…¨å“¡èª­ã¿ã¾ã—ãŸã€‚", choices: ["ãŒ", "ã‚’", "ã¯"], answer: "ãŒ" },
        { text: "ã‚ãªãŸ___æ–°ã—ã„ãƒ¡ãƒ³ãƒãƒ¼ã§ã™ã‹ï¼Ÿ", choices: ["ãŒ", "ã‚’", "ã¯"], answer: "ã¯" },

        // ã€Œã«ãƒ»ã§ãƒ»ã¸ã€â†’ æ˜ç¢ºãªç›®çš„åœ°ãƒ»å ´æ‰€ãƒ»æ‰‹æ®µã‚’æ˜è¨˜
        { text: "æ—¥æ›œæ—¥ã«å­ã©ã‚‚ãŸã¡ã¯å…¬åœ’___éŠã³ã«è¡Œãã¾ã—ãŸã€‚", choices: ["ã§", "ã«", "ã¸"], answer: "ã¸" },
        { text: "ç§ã¯ä»•äº‹ãŒçµ‚ã‚ã£ãŸå¾Œã€å®¶___å¸°ã‚Šã¾ã—ãŸã€‚", choices: ["ã«", "ã§", "ã¸"], answer: "ã«" },
        { text: "å½¼ã¯æ¯æ—¥å›³æ›¸é¤¨___å‹‰å¼·ã—ã¦ã„ã¾ã™ã€‚", choices: ["ã§", "ã«", "ã¸"], answer: "ã§" },
        { text: "é§…___å¤§å‹¢ã®äººãŒä¸¦ã‚“ã§ã„ã¾ã—ãŸã€‚", choices: ["ã«", "ã§", "ã¸"], answer: "ã«" },
        { text: "å…„ã¯æ±äº¬ã®ä¼šç¤¾___åƒã„ã¦ã„ã¾ã™ã€‚", choices: ["ã§", "ã«", "ã¸"], answer: "ã§" },
        { text: "å½¼å¥³___é•·ã„æ‰‹ç´™ã‚’æ›¸ãã¾ã—ãŸã€‚", choices: ["ã¸", "ã§", "ã«"], answer: "ã«" },
        { text: "æ¯ã¨ä¸€ç·’ã«ã‚¹ãƒ¼ãƒ‘ãƒ¼___è²·ã„ç‰©ã‚’ã—ã¾ã—ãŸã€‚", choices: ["ã«", "ã§", "ã¸"], answer: "ã§" },
        { text: "é€±æœ«ã¯æ˜ ç”»é¤¨___ãƒ›ãƒ©ãƒ¼æ˜ ç”»ã‚’è¦³ã«è¡Œãã¾ã™ã€‚", choices: ["ã§", "ã«", "ã¸"], answer: "ã«" },
        { text: "å­¦ç”ŸãŸã¡ã¯æ•™å®¤___å…¥ã£ã¦ã€å¸­ã«åº§ã‚Šã¾ã—ãŸã€‚", choices: ["ã¸", "ã§", "ã«"], answer: "ã«" },
        { text: "å½¼ã¯ç—…é™¢___å‹é”ã‚’è¦‹èˆã„ã«è¡Œãã¾ã—ãŸã€‚", choices: ["ã§", "ã«", "ã¸"], answer: "ã¸" },
        { text: "ç§ãŸã¡ã¯å¤ä¼‘ã¿ã«æ±äº¬___æ—…è¡Œã—ã¾ã—ãŸã€‚", choices: ["ã§", "ã«", "ã¸"], answer: "ã¸" },
        { text: "æ˜¨æ—¥ã€å­¦æ ¡___å‹é”ã¨ä¸€ç·’ã«æ˜¼ã”ã¯ã‚“ã‚’é£Ÿã¹ã¾ã—ãŸã€‚", choices: ["ã§", "ã«", "ã¸"], answer: "ã§" },
        { text: "èª•ç”Ÿæ—¥ã«å‹é”___ãƒ—ãƒ¬ã‚¼ãƒ³ãƒˆã‚’ã‚ã’ã¾ã—ãŸã€‚", choices: ["ã«", "ã§", "ã‚’"], answer: "ã«" },
        { text: "ç§ã¯é§…___é›»è»Šã«ä¹—ã‚Šã¾ã—ãŸã€‚", choices: ["ã§", "ã«", "ã¸"], answer: "ã§" },
        { text: "æˆæ¥­ã®å¾Œã€å…ˆç”Ÿ___è³ªå•ã‚’ã—ã¾ã—ãŸã€‚", choices: ["ã‚’", "ã«", "ã§"], answer: "ã«" }
        ];

    let current = 0;
    let enemyHp =100;

    const enemyImg = document.getElementById("enemyImg");
    const questionEl = document.getElementById("question");
    const choicesEl = document.getElementById("choices");
    const enemyHpEl = document.getElementById("enemyHp");
    const enemyHpBar = document.getElementById("enemyHpBar");
    const messageEl = document.getElementById("message");

    function showAnimatedMessage(text, colorClass = "text-green-600") {
      messageEl.innerHTML = `<span id="animatedMessage" class="${colorClass}">${text}</span>`;
    }

    function loadQuestion() {
      const q = questions[current];
      questionEl.textContent = q.text;
      choicesEl.innerHTML = "";
      q.choices.forEach(choice => {
        const btn = document.createElement("button");
        btn.textContent = choice;
        btn.className = "bg-blue-500 text-white px-4 py-2 rounded mr-2";
        btn.onclick = () => checkAnswer(choice);
        choicesEl.appendChild(btn);
      });
    }

    function checkAnswer(choice) {
      const q = questions[current];
      if (choice === q.answer) {
        showAnimatedMessage("Correctï¼Attackï¼", "text-green-800");
        enemyImg.src = "/img/slime_hurt.png";
        enemyImg.classList.add("shake");

        setTimeout(() => {
          enemyHp -= 30;
          if (enemyHp < 0) enemyHp = 0;
          enemyHpEl.textContent = enemyHp;
          enemyHpBar.style.width = `${enemyHp}%`;

          if (enemyHp === 0) {
            enemyImg.src = "/img/slime_defeated.png";
            showAnimatedMessage("You beat itï¼Congratsï¼ğŸ‰", "text-purple-800");
          } else {
            enemyImg.src = "/img/slime_normal.png";
            enemyImg.classList.remove("shake");
            nextQuestion();
          }
        }, 500);
      } else {
        showAnimatedMessage("Worngâ€¦Try Againï¼", "text-red-800");
        setTimeout(() => {
          nextQuestion();
        }, 1000);
      }
    }

    function nextQuestion() {
      current = (current + 1) % questions.length;
      loadQuestion();
    }

    function shuffleArray(array) {
        for (let i = array.length - 1; i > 0; i--) {
            const j = Math.floor(Math.random() * (i + 1));
            [array[i], array[j]] = [array[j], array[i]];
        }
    }

    shuffleArray(questions);
    loadQuestion();
  
  </script>

     <script>
        fetch('header.html')
            .then(response => response.text())
            .then(data => {
            document.getElementById('header').innerHTML = data;
            });
    </script>
</body>
</html>
